jQuery(function(s){"use strict";var e={cache:{$document:s(document),$window:s(window)},cacheElements:function(){this.cache.$body=s("body")},buildElements:function(){var e=s("#edd_user_login");e.length&&e.attr("autocapitalize","none")},bindEvents:function(){function t(e){var t=e.attr("href");if(t){var n=t.slice(-1);if(n){"/upgrade-subscription/"===document.location.pathname&&(n="plus"===e.attr("data-upgrade")?2:3);dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"USD",add:{products:[{name:"Elementor Pro",id:n,price:{1:49,2:99,3:199}[n],quantity:1}]}}})}}}s("form.elementor-site-ajax-form-action").on("submit",function(){var a=s(this);if(a.hasClass("in-processes"))return!1;a.addClass("in-processes");var i=a.find('button[type="submit"]'),o=i.html(),r=a.find('input[name="action"]').val();return i.html('<span class="fa fa-spinner fa-spin"></span>'),s.post(Elementor_Site_Args.ajaxurl,a.serialize(),function(e){if(a.removeClass("in-processes"),i.html(o),e.success){if(("elementor_site_mailchimp_subscribe"===r||"elementor_site_mailchimp_subscribe"===r)&&window.dataLayer&&dataLayer.push){var t=a.find(".elementor-input-dw-form").length,n=t?"Subscribe and Download":"Subscribe";dataLayer.push({event:"GAEvent",eventCategory:"Conversion",eventAction:n}),t&&(n="true"!==s(".elementor-input-mobile-device").val()?"get-started-button-subscribe":"get-started-button-send-email",dataLayer.push({event:"GAEvent",eventCategory:"Experiments",eventLabel:"Default",eventAction:n}))}e.data.hide_form&&a.find("fieldset").hide(),""!==e.data.message&&a.append('<div class="form-message form-message-success">'+e.data.message+"</div>"),""!==e.data.link&&setTimeout(function(){location.href=e.data.link},500)}else a.prepend('<div class="alert alert-danger fade in"><a class="close" data-dismiss="alert">&times;</a>'+e.data.message+"</div>")},"json"),!1}),s("#btn-close-top-banner").on("click",function(e){e.preventDefault(),s("#top-banner").fadeOut("slow"),s.post(affwp_scripts.ajaxurl,{action:"pojo_dismiss_top_banner"},function(e){})}),s(".e_edd_purchase_delete").on("click",function(e){e.preventDefault(),confirm("Are you sure you want to proceed?")&&(location.href=s(this).attr("href"))}),s(".elementor-element.elementor-add-to-cart-price-table-personal, .elementor-element.elementor-add-to-cart-price-table-plus, .elementor-element.elementor-add-to-cart-price-table-expert").find("a").on("click",function(e){t(s(this))}),s("section.elementor-element.elementor-element-659f035a, section.elementor-element.elementor-element-9pdsvi9, section.elementor-element.elementor-element-689a743f").find("a.elementor-price-table__button").on("click",function(e){t(s(this))})},bindTrackingCodes:function(){window.dataLayer&&dataLayer.push&&"undefined"!=typeof ElementorSiteTrackingCodes&&s.each(ElementorSiteTrackingCodes,function(e,t){switch(t.type){case"event":dataLayer.push({event:"GAEvent",eventCategory:t.category,eventAction:t.action,eventLabel:t.label});break;case"transaction":dataLayer.push({event:"transactionComplete",transactionId:t.order_id,transactionAffiliation:t.store_name,transactionTotal:t.total_amount,transactionProducts:t.items});break;case"single_transaction":dataLayer.push({event:"singleTransaction",eventTransactionOrderID:t.order_id,eventTransactionTotalAmount:t.total_amount,eventTransactionSku:t.sku})}})},initTrackingPartnerAffiliates:function(){if(void 0!==s.cookie){s.cookie("affwp_ref");var e,t,n=o().partner_id,a=o().campaign;if(void 0===n||s.isFunction(n)){var i=window.location.pathname.split("/");s.each(i,function(e,t){AFFWP.referral_var===t&&(n=i[e+1])})}if(!s.isFunction(n))if(n)e=n,t=a,s.ajax({type:"POST",data:{action:"elementor_affwp_track_visit",partner_id:e,campaign:t,url:document.URL,referrer:document.referrer},url:affwp_scripts.ajaxurl,success:function(e){e.success&&e.data.visit_id&&e.data.affiliate_id&&(r("affwp_ref_visit_id",e.data.visit_id),r("affwp_ref",e.data.affiliate_id),r("affwp_campaign",t))}})}function o(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++){e=n[a].split("="),t.push(e[0]);var i=void 0===e[1]?0:1,o=e[i].indexOf("#");e[i]=e[i].substring(0,-1!==o?o:e[i].length),t[e[0]]=e[i]}return t}function r(e,t){console.log(e,t),"cookie_domain"in AFFWP?s.cookie(e,t,{expires:AFFWP.expiration,path:"/",domain:AFFWP.cookie_domain}):s.cookie(e,t,{expires:AFFWP.expiration,path:"/"})}},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents(),this.bindTrackingCodes(),this.initDialogsManager(),this.initTrackingPartnerAffiliates()},initDialogsManager:function(){this.dialogsManager=new DialogsManager.Instance}};e.init(),window.Elementor_Site=e});